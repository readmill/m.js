m.js
====

A module system for websites.

Dependancies
------------

m requires that the jQuery[1] and underscore[2] libraries are available on
the page before the m.js script is included.

[1]: http://jquery.com
[2]: http://underscorejs.org

Development
-----------

It's very simple, hack on the code, ensure the lint and tests pass and submit
a pull request. Rinse and repeat.

To install the developer packages you'll need node and npm installed on your
machine. Then run:

    $ npm install

To run the linter:

    $ make lint

Production
----------

To produce a concatenated build run:

    $ make

To produce a development and production (minified) build ready for distribution run:

    $ make package

Testing
-------

To run the suite in the browser run:

    $ make test

And open the browser at http://localhost:8000. You can choose a port by
providing a `PORT` env variable to make.

    $ make test PORT=4567

### Writing specs

These should be placed in the test/specs directory and the filename should
be the module name ending with `-spec.js`.

### Libraries

- Mocha[1]: Test runner, we use the `bdd` style.
- Chai[2]: Assertion library, we use `assert` style.
- Sinon[3]: Mocking and stubbing library.

[1]: http://visionmedia.github.com/mocha/
[2]: http://chaijs.com/api/assert/
[3]: http://sinonjs.org/docs

### Let Helper

There is also a `this.let` helper that allows you to assign lazy loaded properties
within your tests. For example:

    this.let('subject', 4);
    this.subject; // => 4

    this.let('subject', Math.random());
    this.subject; // => 0.1856299617793411
    this.subject; // => 0.1856299617793411

    this.let('fixture', document.createElement('div'));
    this.let('subject', function () {
      // Same scope available within lazy functions.
      this.fixture.nodeName === 'DIV';
    });

License
-------

Available under the MIT license. See LICENSE file for details.
